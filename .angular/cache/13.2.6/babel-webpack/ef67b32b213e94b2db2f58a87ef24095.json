{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./proyectos.service\";\nimport * as i2 from \"../security/Service/token.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction ProyectosComponent_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function ProyectosComponent_button_6_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.onOpenModal(null, \"add\");\n    });\n    i0.ɵɵelement(1, \"i\", 41);\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProyectosComponent_div_10_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 48)(1, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function ProyectosComponent_div_10_div_5_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const proy_r6 = i0.ɵɵnextContext().$implicit;\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.onOpenModal(proy_r6, \"edit\");\n    });\n    i0.ɵɵelement(2, \"i\", 49);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function ProyectosComponent_div_10_div_5_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const proy_r6 = i0.ɵɵnextContext().$implicit;\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.onOpenModal(proy_r6, \"delete\");\n    });\n    i0.ɵɵelement(4, \"i\", 50);\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction ProyectosComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42)(1, \"div\", 43)(2, \"div\", 44)(3, \"a\", 45);\n    i0.ɵɵelement(4, \"img\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, ProyectosComponent_div_10_div_5_Template, 5, 0, \"div\", 47);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const proy_r6 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"href\", proy_r6.urlProyecto, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", proy_r6.urlImagen, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isAdmin);\n  }\n}\n\nexport let ProyectosComponent = /*#__PURE__*/(() => {\n  class ProyectosComponent {\n    constructor(proyectosService, tokenService) {\n      this.proyectosService = proyectosService;\n      this.tokenService = tokenService;\n      this.isAdmin = false;\n    }\n\n    ngOnInit() {\n      this.getProyectos();\n      this.roles = this.tokenService.getAuthorities();\n      this.roles.forEach(role => {\n        if (role === 'ROLE_ADMIN') {\n          this.isAdmin = true;\n        }\n      });\n    }\n\n    getProyectos() {\n      this.proyectosService.getProyectos().subscribe(response => {\n        this.proyectos = response;\n      }, error => {\n        alert(error.message);\n      });\n    }\n\n    onAddProyecto(addForm) {\n      var _a;\n\n      (_a = document.getElementById('add-proyecto-modal')) === null || _a === void 0 ? void 0 : _a.click();\n      this.proyectosService.addProyecto(addForm.value).subscribe(response => {\n        console.log(response);\n        this.getProyectos();\n        addForm.reset();\n      }, error => {\n        alert(error.message);\n        addForm.reset();\n      });\n    }\n\n    onUpdateProyecto(proyecto) {\n      this.proyectosService.updateProyecto(proyecto).subscribe(response => {\n        console.log(response);\n        this.getProyectos();\n      }, error => {\n        console.log(error.message);\n      });\n    }\n\n    onDeleteProyecto(id) {\n      this.proyectosService.deleteProyecto(id).subscribe(response => {\n        console.log(response);\n        this.getProyectos();\n      }, error => {\n        alert(error.message);\n      });\n    }\n\n    onOpenModal(proyecto, mode) {\n      const container = document.getElementById('main-container');\n      const button = document.createElement('button');\n      button.type = 'button';\n      button.style.display = 'none';\n      button.setAttribute('data-toggle', 'modal');\n\n      if (mode === 'add') {\n        button.setAttribute('data-target', '#addProyectoModal');\n      }\n\n      if (mode === 'edit') {\n        this.editProyectos = proyecto;\n        button.setAttribute('data-target', '#updateProyectoModal');\n      }\n\n      if (mode === 'delete') {\n        this.deleteProyectos = proyecto;\n        button.setAttribute('data-target', '#deleteProyectoModal');\n      }\n\n      container === null || container === void 0 ? void 0 : container.appendChild(button);\n      button.click();\n    }\n\n  }\n\n  ProyectosComponent.ɵfac = function ProyectosComponent_Factory(t) {\n    return new (t || ProyectosComponent)(i0.ɵɵdirectiveInject(i1.ProyectosService), i0.ɵɵdirectiveInject(i2.TokenService));\n  };\n\n  ProyectosComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProyectosComponent,\n    selectors: [[\"app-proyectos\"]],\n    decls: 86,\n    vars: 7,\n    consts: [[1, \"fondo\"], [\"id\", \"proyectos\", 1, \"fondo\"], [\"id\", \"main-container\", 1, \"contenido\"], [1, \"proyectostitulo\"], [1, \"proyectos\"], [\"type\", \"button\", \"class\", \"botones_contenido\", 3, \"click\", 4, \"ngIf\"], [1, \"container\"], [1, \"row\"], [1, \"col-4\"], [\"class\", \"efectohover\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"addProyectoModal\", \"data-backdrop\", \"static\", \"data-keyboard\", \"false\", \"tabindex\", \"-1\", \"aria-labelledby\", \"addProyectoModal\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\"], [\"id\", \"staticBackdropLabel\", 1, \"modal-title\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"close\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [3, \"ngSubmit\"], [\"addForm\", \"ngForm\"], [\"for\", \"nombreProyecto\"], [\"ngModel\", \"\", \"type\", \"text\", \"name\", \"nombreProyecto\", 1, \"form-control\"], [\"for\", \"descripcion\"], [\"ngModel\", \"\", \"type\", \"text\", \"name\", \"descripcion\", 1, \"form-control\"], [\"for\", \"urlImagen\"], [\"ngModel\", \"\", \"type\", \"text\", \"name\", \"urlImagen\", 1, \"form-control\"], [\"for\", \"urlProyecto\"], [\"ngModel\", \"\", \"type\", \"text\", \"name\", \"urlProyecto\", 1, \"form-control\"], [1, \"modal-footer\"], [\"type\", \"button\", \"id\", \"add-proyecto-modal\", \"data-dismiss\", \"modal\", 1, \"btn\"], [\"type\", \"submit\", 1, \"btn\", 3, \"disabled\"], [\"id\", \"updateProyectoModal\", \"data-backdrop\", \"static\", \"data-keyboard\", \"false\", \"tabindex\", \"-1\", \"aria-labelledby\", \"updateProyectoModal\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"editForm\", \"ngForm\"], [\"ngModel\", \"\", \"type\", \"text\", \"name\", \"nombreProyecto\", 1, \"form-control\", 3, \"ngModel\"], [\"type\", \"text\", \"name\", \"descripcion\", 1, \"form-control\", 3, \"ngModel\"], [\"type\", \"hidden\", \"name\", \"id\", 3, \"ngModel\"], [\"id\", \"update-proyecto-modal\", \"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", 3, \"click\"], [\"id\", \"deleteProyectoModal\", \"data-backdrop\", \"static\", \"data-keyboard\", \"false\", \"tabindex\", \"-1\", \"aria-labelledby\", \"deleteProyectoModal\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [\"type\", \"button\", \"data-dismiss\", \"modal\", 1, \"btn\", \"btn\"], [\"type\", \"button\", 1, \"botones_contenido\", 3, \"click\"], [1, \"fa-solid\", \"fa-plus\"], [1, \"efectohover\"], [1, \"imagenproyecto\"], [1, \"imagenabajo\"], [\"target\", \"_blank\", 3, \"href\"], [\"alt\", \"Fotograf\\u00EDa del proyecto\", 3, \"src\"], [\"class\", \"textoarriba\", \"id\", \"eliminar-editar-proyectos\", 4, \"ngIf\"], [\"id\", \"eliminar-editar-proyectos\", 1, \"textoarriba\"], [1, \"fa-solid\", \"fa-pen\"], [1, \"fa-solid\", \"fa-eraser\"]],\n    template: function ProyectosComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r13 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h4\", 4);\n        i0.ɵɵtext(5, \"Proyectos \");\n        i0.ɵɵtemplate(6, ProyectosComponent_button_6_Template, 2, 0, \"button\", 5);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"div\", 6)(8, \"div\", 7)(9, \"div\", 8);\n        i0.ɵɵtemplate(10, ProyectosComponent_div_10_Template, 6, 3, \"div\", 9);\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(11, \"div\", 10)(12, \"div\", 11)(13, \"div\", 12)(14, \"div\", 13)(15, \"h5\", 14);\n        i0.ɵɵtext(16, \"Agregar Proyecto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"button\", 15)(18, \"span\", 16);\n        i0.ɵɵtext(19, \"\\u00D7\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(20, \"div\", 17)(21, \"form\", 18, 19);\n        i0.ɵɵlistener(\"ngSubmit\", function ProyectosComponent_Template_form_ngSubmit_21_listener() {\n          i0.ɵɵrestoreView(_r13);\n\n          const _r2 = i0.ɵɵreference(22);\n\n          return ctx.onAddProyecto(_r2);\n        });\n        i0.ɵɵelementStart(23, \"label\", 20);\n        i0.ɵɵtext(24, \"Nombre del Proyecto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(25, \"br\")(26, \"input\", 21);\n        i0.ɵɵelementStart(27, \"label\", 22);\n        i0.ɵɵtext(28, \"Descripci\\u00F3n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(29, \"br\")(30, \"input\", 23);\n        i0.ɵɵelementStart(31, \"label\", 24);\n        i0.ɵɵtext(32, \"Imagen del Proyecto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(33, \"br\")(34, \"input\", 25);\n        i0.ɵɵelementStart(35, \"label\", 26);\n        i0.ɵɵtext(36, \"Url del Proyecto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(37, \"br\")(38, \"input\", 27);\n        i0.ɵɵelementStart(39, \"div\", 28)(40, \"button\", 29);\n        i0.ɵɵtext(41, \"Cancelar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"button\", 30);\n        i0.ɵɵtext(43, \"Agregar\");\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵelementStart(44, \"div\", 31)(45, \"div\", 11)(46, \"div\", 12)(47, \"div\", 13)(48, \"h5\", 14);\n        i0.ɵɵtext(49, \"Editar Proyecto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"button\", 15)(51, \"span\", 16);\n        i0.ɵɵtext(52, \"\\u00D7\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(53, \"div\", 17)(54, \"form\", null, 32)(56, \"label\", 20);\n        i0.ɵɵtext(57, \"Nombre del Proyecto\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(58, \"br\")(59, \"input\", 33);\n        i0.ɵɵelementStart(60, \"label\", 22);\n        i0.ɵɵtext(61, \"Descripci\\u00F3n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(62, \"br\")(63, \"input\", 34)(64, \"input\", 35);\n        i0.ɵɵelementStart(65, \"div\", 28)(66, \"button\", 36);\n        i0.ɵɵtext(67, \"Cancelar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(68, \"button\", 37);\n        i0.ɵɵlistener(\"click\", function ProyectosComponent_Template_button_click_68_listener() {\n          i0.ɵɵrestoreView(_r13);\n\n          const _r3 = i0.ɵɵreference(55);\n\n          return ctx.onUpdateProyecto(_r3.value);\n        });\n        i0.ɵɵtext(69, \"Guardar cambios\");\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵelementStart(70, \"div\", 38)(71, \"div\", 11)(72, \"div\", 12)(73, \"div\", 13);\n        i0.ɵɵelement(74, \"h5\", 14);\n        i0.ɵɵelementStart(75, \"button\", 15)(76, \"span\", 16);\n        i0.ɵɵtext(77, \"\\u00D7\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(78, \"div\", 17)(79, \"p\");\n        i0.ɵɵtext(80);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(81, \"div\", 28)(82, \"button\", 39);\n        i0.ɵɵtext(83, \"No\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(84, \"button\", 37);\n        i0.ɵɵlistener(\"click\", function ProyectosComponent_Template_button_click_84_listener() {\n          return ctx.onDeleteProyecto(ctx.deleteProyectos.id);\n        });\n        i0.ɵɵtext(85, \"S\\u00ED\");\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        const _r2 = i0.ɵɵreference(22);\n\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.isAdmin);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.proyectos);\n        i0.ɵɵadvance(32);\n        i0.ɵɵproperty(\"disabled\", _r2.invalid);\n        i0.ɵɵadvance(17);\n        i0.ɵɵpropertyInterpolate1(\"ngModel\", \"\", ctx.editProyectos == null ? null : ctx.editProyectos.nombreProyecto, \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate(\"ngModel\", ctx.editProyectos == null ? null : ctx.editProyectos.descripcion);\n        i0.ɵɵadvance(1);\n        i0.ɵɵpropertyInterpolate1(\"ngModel\", \"\", ctx.editProyectos == null ? null : ctx.editProyectos.id, \" \");\n        i0.ɵɵadvance(16);\n        i0.ɵɵtextInterpolate1(\"Esta acci\\u00F3n eliminar\\u00E1 \\\"\", ctx.deleteProyectos == null ? null : ctx.deleteProyectos.nombreProyecto, \"\\\". \\u00BFDesea continuar?\");\n      }\n    },\n    directives: [i3.NgIf, i3.NgForOf, i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.NgForm, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel],\n    styles: [\"*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}.fondo[_ngcontent-%COMP%]{width:100%;background-color:#e0c3d5}.contenido[_ngcontent-%COMP%]{width:100%;height:auto;flex-direction:column;padding:40px;justify-self:center;align-items:center;border-radius:.8em;font-size:.8em}.proyectos[_ngcontent-%COMP%]{font-size:20px;font-weight:bolder;color:#b1189c;border-bottom:1px #b1189c solid;text-transform:uppercase;text-align:center;width:100%;align-items:center;justify-content:center;justify-self:center}.proyectostitulo[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#b1189c}.grid[_ngcontent-%COMP%]{display:grid;place-items:center;grid-template-columns:2fr 2fr;width:100%;grid-gap:4px;padding:30px 30px 40px}.imagenproyecto[_ngcontent-%COMP%]{padding:0;height:183px}.imagenproyecto[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;transition:.5s}.imagenproyecto[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transition:.5s;opacity:50%}#eliminar-editar-proyectos[_ngcontent-%COMP%]{width:15%;padding:2px;border-radius:2px;background-color:#c782ad;text-align:center;opacity:.8}#eliminar-editar-proyectos[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#c782ad;padding-left:1px}i[_ngcontent-%COMP%]{color:#4d1b44;font-size:10px;text-shadow:2px 1px 1px 1px #f8e6f1}.botones_contenido[_ngcontent-%COMP%]{border:none;background:none;padding:2px}.boton_edicion_texto[_ngcontent-%COMP%]{padding:2px 10px;margin-top:10px;background:#7C3772;color:#f8e6f1;border-radius:5px;font-size:10px;border:none}.modal-dialog[_ngcontent-%COMP%]{width:50%;padding:15px;justify-content:center;align-self:center;top:10%;left:25%}.modal-body[_ngcontent-%COMP%]{padding:10px}.modal-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;background:none;text-align:right;color:#720f64}.modal-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#720f64;text-transform:uppercase;font-weight:700}.modal-content[_ngcontent-%COMP%]{padding:20px;background-color:#f8f5f7}.form[_ngcontent-%COMP%]{line-height:20px}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{line-height:7px;margin-top:5px;color:#720f64}.modal-footer[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-around;padding:15px 10px 0}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .boton-editar[_ngcontent-%COMP%]{border:none;color:#720f64;margin:5px;padding:2px 5px;border-color:none}.modal-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}#update-proyecto-modal[_ngcontent-%COMP%]{padding:3px 5px;color:#720f64}\"]\n  });\n  return ProyectosComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}